(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab149"],{"146f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 mt-5"},[i("div",{staticClass:"row mt-5"},[i("button",{staticClass:"btn btn-outline-info mr-2 ml-2 mb-3",attrs:{type:"button"},on:{click:function(t){e.isprintModal=!0}}},[e._v("اطبع")]),i("base-button",{staticClass:"btn btn-outline-success mr-2 ml-2 mb-3",attrs:{type:"button",icon:"ni ni-fat-add"},on:{click:function(t){e.isaddModal=!0}}},[e._v("اضافه منتج")])],1),i("b-modal",{attrs:{active:e.isprintModal},on:{"update:active":function(t){e.isprintModal=t}}},[i("div",{attrs:{id:"printMe"}},e._l(e.checkedProduct,(function(t,s){return i("div",{key:s,staticClass:"row m-0 justify-content-center"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"row m-0 justify-content-center"},[i("figure",{staticClass:"image image is-48x48"},[i("img",{attrs:{src:a("9955"),alt:"Placeholder image"}})])]),i("div",{staticClass:"row justify-content-center"},[e._v("السعر"+e._s(t.outprice))])]),t.id?i("barcode",{attrs:{value:t.id,options:{lineColor:"#444e",height:"100px"},tag:"img"}},[e._v(e._s(t.id))]):e._e()],1)})),0),i("div",{staticClass:"row m-0 justify-content-center"},[i("button",{directives:[{name:"print",rawName:"v-print",value:e.printObj,expression:"printObj"}],staticClass:"btn btn-outline-info mr-2 ml-2 mb-3",attrs:{type:"button"}},[i("i",{staticClass:"fas fa-print"}),e._v(" اطبع\n        ")])])]),i("b-modal",{attrs:{"has-modal-card":"",active:e.isaddModal},on:{"update:active":function(t){e.isaddModal=t}}},[i("form",{staticClass:"modal-card",staticStyle:{width:"auto"},attrs:{"data-vv-scope":"add",clas:""},on:{submit:function(t){return t.preventDefault(),e.addNewProuduct()}}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[e._v("اضافة")])]),i("section",{staticClass:"modal-card-body"},[i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"اسم المنتج ",name:"name",valid:!e.errors.has("name")},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("name")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"number",placeholder:"السعر",name:"inprice",valid:!e.errors.has("inprice")},model:{value:e.product.inprice,callback:function(t){e.$set(e.product,"inprice",t)},expression:"product.inprice"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("inprice")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"سعرالبيع ",type:"number",name:"outprice",valid:!e.errors.has("outprice")},model:{value:e.product.outprice,callback:function(t){e.$set(e.product,"outprice",t)},expression:"product.outprice"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("outprice")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"الكمية",type:"number",name:"quantity",valid:!e.errors.has("quantity")},model:{value:e.product.quantity,callback:function(t){e.$set(e.product,"quantity",t)},expression:"product.quantity"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("quantity")))])],1)]),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button m-1",attrs:{type:"button"},on:{click:function(t){e.isaddModal=!1}}},[e._v("غلق")]),i("button",{staticClass:"button is-success m-1",attrs:{type:"submit"}},[e._v("اضافه")])])])]),i("b-modal",{attrs:{"has-modal-card":"",active:e.isupdateModal},on:{"update:active":function(t){e.isupdateModal=t}}},[i("form",{staticClass:"modal-card",staticStyle:{width:"auto"},attrs:{"data-vv-scope":"update"},on:{submit:function(t){return t.preventDefault(),e.updateProduct()}}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[e._v("تعديل")])]),i("section",{staticClass:"modal-card-body"},[i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"اسم المنتج ",name:"nameup",valid:!e.errors.has("nameup")},model:{value:e.selectedproduct.name,callback:function(t){e.$set(e.selectedproduct,"name",t)},expression:"selectedproduct.name"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("nameup")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"number",placeholder:"السعر",name:"inpriceup",valid:!e.errors.has("inpriceup")},model:{value:e.selectedproduct.inprice,callback:function(t){e.$set(e.selectedproduct,"inprice",t)},expression:"selectedproduct.inprice"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("inpriceup")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"سعرالبيع ",type:"number",name:"outpriceup",valid:!e.errors.has("outpriceup")},model:{value:e.selectedproduct.outprice,callback:function(t){e.$set(e.selectedproduct,"outprice",t)},expression:"selectedproduct.outprice"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("outpriceup")))])],1),i("div",{staticClass:"col-12"},[i("base-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"الكمية",type:"number",name:"quantityup",valid:!e.errors.has("quantityup")},model:{value:e.selectedproduct.quantity,callback:function(t){e.$set(e.selectedproduct,"quantity",t)},expression:"selectedproduct.quantity"}}),i("span",{staticClass:"help is-danger"},[e._v(e._s(e.errors.first("quantityup")))])],1)]),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button m-1",attrs:{type:"button"},on:{click:function(t){e.isupdateModal=!1}}},[e._v("غلق")]),i("button",{staticClass:"button is-success m-1",attrs:{type:"submit"}},[e._v("تعديل")])])])])],1),e.products.length>0?i("b-table",{staticClass:"w-100",attrs:{data:e.products,checkable:"","checkbox-position":e.checkboxPosition,"checked-rows":e.checkedProduct,columns:e.columns,"icon-pack":"fa",paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page",selected:e.selectedproduct},on:{"update:checkedRows":function(t){e.checkedProduct=t},"update:checked-rows":function(t){e.checkedProduct=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:selected":function(t){e.selectedproduct=t},click:function(t){e.isupdateModal=!0}},scopedSlots:e._u([{key:"searchable",fn:function(t){return t.column.numeric?e._e():i("b-input",{attrs:{placeholder:"ابحث",icon:"magnify",size:"is-small"},model:{value:t.filters[t.column.field],callback:function(a){e.$set(t.filters,t.column.field,a)},expression:"props.filters[props.column.field]"}})}}],!0)}):e._e(),i("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading,"can-cancel":!0},on:{"update:active":function(t){e.isLoading=t}}})],1)},s=[],r=(a("8e6e"),a("456d"),a("bd86")),n=(a("ac6a"),a("96cf"),a("3b8d")),c=a("59ca"),o=(a("c1df"),a("f579")),d=a.n(o);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={components:{barcode:d.a},data:function(){return{isupdateModal:!1,isprintModal:!1,isaddModal:!1,printObj:{id:"printMe"},printing:!1,checkedProduct:[],isLoading:!1,checkboxPosition:"left",product:{id:"",name:"",inprice:"",outprice:"",quantity:""},products:[],isPaginated:!0,isPaginationSimple:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,selectedproduct:{},columns:[{field:"id",label:"الكود",width:"100",numeric:!1,searchable:!0},{field:"inprice",label:"السعر",searchable:!0},{field:"name",label:"الاسم",searchable:!0},{field:"outprice",label:"سعر البيع",centered:!0},{field:"quantity",label:"الكمية"}]}},methods:{getproducts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c["database"]().ref("proudcts"),a=this,this.isLoading=!0,e.next=5,t.on("value",(function(e){e.forEach((function(e){a.products.push(u({},e.val())),a.colms=Object.keys(u({},e.val()))})),a.isLoading=!1}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateProduct:function(){var e=this;this.isLoading=!0,this.$validator.validateAll("update").then((function(t){t?(c["database"]().ref("proudcts/"+e.selectedproduct.id).set(e.selectedproduct),e.selectedproduct={},e.$buefy.toast.open({message:"تمت تعديل المنتج بنجاح",type:"is-success"}),e.isLoading=!1,e.isupdateModal=!1):(e.isLoading=!1,e.$buefy.toast.open({duration:1e3,message:"من فضلك ادخل كل الحقول ",position:"is-bottom",type:"is-danger"}))}))},addNewProuduct:function(){var e=this;this.isLoading=!0,this.$validator.validateAll("add").then((function(t){if(t){var a=c["database"](),i=a.ref("proudcts").push();e.product.id=i.ref.key,i.set(e.product),e.isaddModal=!1,e.isLoading=!1,e.product={},e.$buefy.toast.open({message:"تمت اضافة المنتج بنجاح",type:"is-success"})}else e.isLoading=!1,e.$buefy.toast.open({duration:1e3,message:"من فضلك ادخل كل الحقول ",position:"is-bottom",type:"is-danger"})}))}},mounted:function(){},created:function(){this.getproducts()}},m=p,v=a("2877"),b=Object(v["a"])(m,i,s,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0ab149.442dc498.js.map